## YYYY‑MM‑DD

### What I changed

- Bullet list (code, schema, infra)

### Why it matters

- One sentence per bullet

### Measurements

### Notes after run on self

- Model fails to respond with properly formatted code on `ports.py` with the long
  module docstring.
  - Hypothesis 1: The docstring has a lot of special characters and
    markdown which muddy the model's thinking. NOT LIKELY BASED ON RESPONSE EXAMINATION.
  - Hypothesis 2: The current `DocSigPatcher` can't handle the unusual function
    definition in those classes.
- Current system prompt means updates on `prompt_builder.build_prompts` are no good.
  Interesting b/c the docs looked good (type hinting and numpy format), but the signature
  is incorrect and actually needs to be updated to reflect the current return values.
  I think the type hints for the libCST objects are off to.
- Need to be able to run on a single module
- Need to be able to exclude certain subdirs if I want
- Need a really nice way of looking at diffs. Right now opening to the side.
- Spacing can be slightly off when the model tries to respect the line length. For
  example, the next line after a >88 char line might start with a leading space.
  Interesting.
- Would be interesting to examine the output at byte level. Sometimes when I copy-paste
  GPT code it includes extra bytes. Maybe invisible bytes?
- System gave correct type of the return value but didn't include it in the signature!
  This was on `src.application.services`.
- Seriously need a way to look at diffs. Even minor wording improvments are valuable.
  Need to be able to see them!
- Don't want output on great docs. But the bar for great docs needs to be really high.
- Latency is pretty high (e.g. 11s on `domain`).
- Type hinting in Returns part of docs may be
  (`dict of str to FunctionEdit or ClassEdit`) instead of the more modern
  `dict[FunctionEdit | ClassEdit]`.
- Crap code -> crap doc output. This is anecdotal but it seems formatting is worse and
  the system respects line lengths less. Saw this on old
  `openai_client._get_api_key()` function.
- Would be nice to have a 'tidy up' tool which goes through and ensures the lines are
  set to the right length. Sometimes the new docs are great but a 90 char line means a
  lot of reformatting (e.g., move to new line, update trailing lines, etc.).
- I can add some logic to prevent sending a module for processing if it has no
  functions or classes (e.g. `gateways.schema_loader`).

### Open questions

- Need to be able to run this thing on one module.

### Next actions (tomorrow)
